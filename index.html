<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCR JOBS - Job Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="navbar-placeholder"></div>

    <div class="category-grid">
        <a href="all-jobs.html" class="cat-box"><i class="fas fa-id-card"></i>Aadhar Card Jobs</a>
        <a href="all-jobs.html" class="cat-box"><i class="fas fa-user-graduate"></i>10th 12th Jobs</a>
        <a href="all-jobs.html" class="cat-box"><i class="fas fa-tools"></i>ITI Jobs</a>
        <a href="all-jobs.html" class="cat-box"><i class="fas fa-graduation-cap"></i>Graduation Jobs</a>
        <a href="all-jobs.html" class="cat-box"><i class="fas fa-certificate"></i>Diploma Jobs</a>
        <a href="#" class="cat-box"><i class="fas fa-laptop-code"></i>B.Tech / M.Tech</a>
    </div>

    <h2 class="section-title">जॉब पोस्ट (Job Post)</h2>

    <div class="social-buttons">
        <a href="https://whatsapp.com/channel/0029VbBfWfm05MUZXJv6pY0B" target="_blank" class="social-btn wa-btn"><i class="fab fa-whatsapp"></i> Join WhatsApp</a>
        <a href="https://t.me/Jobncrlive" class="social-btn tg-btn"><i class="fab fa-telegram"></i> Join Telegram</a>
    </div>

    <div class="job-container">
        <div class="job-column">
            <div class="job-box" id="noida-jobs">
                <div class="job-header">Noida Jobs</div>
                <ul class="job-links" id="noida-list">
                    <li>Loading...</li>
                </ul>
                <div class="read-more-wrapper">
                    <a href="all-jobs.html?cat=noida" class="read-more-btn-link">Read More <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>

        <div class="job-column">
            <div class="job-box" id="other-jobs">
                <div class="job-header">NCR Jobs</div>
                <ul class="job-links" id="ncr-list">
                    <li>Loading...</li>
                </ul>
                <div class="read-more-wrapper">
                    <a href="all-jobs.html?cat=ncr" class="read-more-btn-link">Read More <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>

            <div class="job-box" id="campus-jobs">
                <div class="job-header">Campus Jobs</div>
                <ul class="job-links" id="campus-list">
                    <li>Loading...</li>
                </ul>
                <div class="read-more-wrapper">
                    <a href="all-jobs.html?cat=campus" class="read-more-btn-link">Read More <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </div>
    </div>

    <footer class="custom-footer">
        <div class="footer-brand-name">NCR one.in * JOBS</div>
        <p class="footer-warning">
            प्रिय उम्मीदवारों, हम आपको बताना चाहते हैं कि हमारी वेबसाइट पर मौजूद सभी नौकरियां बिल्कुल फ्री हैं और इसके लिए कोई शुल्क नहीं लिया जाता। कृपया नौकरी के नाम पर पैसे मांगने वाले लोगों से सावधान रहें। अगर कोई ऐसा करता है, तो तुरंत NCR One Team को बताएं।
        </p>
        <p class="footer-quote">"हर इंसान में एक चमक होती है। बस विश्वास रखो, चुनौतियों को अवसर बनाओ और अपनी कहानी के नायक बनो। सफलता उन्हीं की होती है जो कभी हार नहीं मानते"</p>

        <div class="footer-social-icons">
            <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
            <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="https://whatsapp.com/channel/0029VbBfWfm05MUZXJv6pY0B" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://t.me/Jobncrlive" title="Telegram"><i class="fab fa-telegram"></i></a>
        </div>

        <div class="copyright-text">
            &copy; 2026 NCRONE JOBS. All Rights Reserved.
        </div>
    </footer>

    <script src="navbar.js"></script>

    <script>
        async function loadHomeJobs() {
            try {
                const res = await fetch('jobs.json');
                const jobs = await res.json();
                
                const fill = (listId, cat, limit) => {
                    // 1. Category filter
                    let filtered = jobs.filter(j => j.category === cat);

                    // 2. Sorting Logic: Position (1,2,3) pehle, baki latest (reverse)
                    filtered.sort((a, b) => {
                        // Agar dono mein pos hai, toh chota number upar
                        if (a.pos && b.pos) return a.pos - b.pos;
                        // Agar sirf a mein pos hai, toh a upar
                        if (a.pos) return -1;
                        // Agar sirf b mein pos hai, toh b upar
                        if (b.pos) return 1;
                        // Baki sabko latest (json order ka reverse) rakhega
                        return 0; 
                    });

                    // Agar 'pos' nahi hai, toh unhe reverse order mein dikhane ke liye:
                    // Hum list ko category-wise reverse karke dikha sakte hain
                    const topJobs = filtered.slice(0, limit);
                    
                    const listHtml = topJobs.map(j => 
                        `<li><a href="${j.link}"><i class="fas fa-angle-right"></i> ${j.title} <span class="blink-new">[New]</span></a></li>`
                    ).join('');
                    
                    document.getElementById(listId).innerHTML = listHtml || "<li>No jobs available</li>";
                };

                // Limits set kar di gayi hain
                fill('noida-list', 'noida', 20);
                fill('ncr-list', 'ncr', 10);
                fill('campus-list', 'campus', 5);

            } catch (e) { console.error("Error loading jobs:", e); }
        }
        window.addEventListener('load', loadHomeJobs);
    </script>
</body>
</html>